<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Slot Mahjong & Spaceman Rupiah</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: radial-gradient(circle at top, #111, #000);
    color: #fff;
    text-align: center;
    margin: 0;
    padding: 20px;
  }
  h1 {
    color: gold;
    text-shadow: 0 0 10px red;
  }
  .slot {
    display: grid;
    grid-template-columns: repeat(3, 100px);
    gap: 10px;
    justify-content: center;
    margin: 20px auto;
  }
  .cell {
    width: 100px;
    height: 100px;
    background: #222;
    border: 2px solid gold;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2em;
    border-radius: 10px;
  }
  button, select {
    background: gold;
    border: none;
    padding: 10px 20px;
    margin: 5px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
  }
  button:hover, select:hover {
    background: orange;
  }
  .coin {
    position: fixed;
    font-size: 24px;
    animation: fall linear;
  }
  @keyframes fall {
    from { transform: translateY(-50px); opacity:1; }
    to { transform: translateY(100vh); opacity:0; }
  }
  .spaceman {
    margin-top: 30px;
    padding: 15px;
    border: 2px solid cyan;
    border-radius: 12px;
  }
</style>
</head>
<body>
  <h1>ğŸ° Slot Mahjong & Spaceman ğŸš€</h1>
  
  <!-- Pilihan Bet -->
  <div>
    <label>Pilih Bet: </label>
    <select id="betAmount">
      <option value="40">Rp40</option>
      <option value="100">Rp100</option>
      <option value="1000">Rp1.000</option>
      <option value="5000">Rp5.000</option>
      <option value="10000">Rp10.000</option>
      <option value="20000">Rp20.000</option>
      <option value="50000">Rp50.000</option>
      <option value="100000">Rp100.000</option>
      <option value="200000">Rp200.000</option>
    </select>
  </div>

  <!-- Slot Mahjong -->
  <div class="slot" id="slot">
    <div class="cell">â“</div>
    <div class="cell">â“</div>
    <div class="cell">â“</div>
    <div class="cell">â“</div>
    <div class="cell">â“</div>
    <div class="cell">â“</div>
    <div class="cell">â“</div>
    <div class="cell">â“</div>
    <div class="cell">â“</div>
  </div>

  <div>
    <button onclick="spin()">ğŸ° Spin</button>
    <button onclick="toggleAuto()">ğŸ”„ Auto</button>
    <button onclick="toggleTurbo()">âš¡ Turbo</button>
  </div>

  <p id="status">Saldo: Rp10.000 | Auto: OFF | Turbo: OFF</p>

  <!-- Spaceman -->
  <div class="spaceman">
    <h2>ğŸš€ Spaceman Mode</h2>
    <p id="spacemanStatus">Multiplier: x1.00</p>
    <button onclick="startSpaceman()">Launch ğŸš€</button>
    <button onclick="cashout()">Cashout ğŸ’°</button>
  </div>

<script>
let saldo = 10000;
let auto = false;
let turbo = false;
let autoInterval;
const simbol = ["ğŸ’","ğŸ‹","ğŸ””","â­","ğŸ’","7ï¸âƒ£"];

// format rupiah
function formatRp(num){
  return "Rp" + num.toLocaleString("id-ID");
}
function getBet(){
  return parseInt(document.getElementById("betAmount").value);
}

// SLOT -------------------
function spin(){
  let bet = getBet();
  if(saldo < bet){
    alert("Saldo tidak cukup untuk spin!");
    return;
  }
  saldo -= bet;
  let cells = document.querySelectorAll(".cell");
  let hasil = [];
  cells.forEach(c=>{
    let s = simbol[Math.floor(Math.random()*simbol.length)];
    c.innerText = s;
    hasil.push(s);
  });
  cekMenang(hasil, bet);
}

function cekMenang(arr, bet){
  let status = document.getElementById("status");
  if(arr[3]===arr[4] && arr[4]===arr[5]){
    let menang = bet * (5 + Math.floor(Math.random()*20)); // 5xâ€“25x
    saldo += menang;
    status.innerText = `MENANG ${formatRp(menang)}! Saldo: ${formatRp(saldo)}`;
    spawnCoins();
  } else {
    status.innerText = `Kalah -${formatRp(bet)} | Saldo: ${formatRp(saldo)}`;
  }
}

function spawnCoins(){
  for(let i=0;i<15;i++){
    let coin = document.createElement("div");
    coin.className="coin";
    coin.innerText="ğŸ’°";
    coin.style.left = Math.random()*window.innerWidth+"px";
    coin.style.top = "0px";
    coin.style.animationDuration=(1+Math.random()*2)+"s";
    document.body.appendChild(coin);
    setTimeout(()=>coin.remove(),3000);
  }
}

function toggleAuto(){
  auto = !auto;
  document.getElementById("status").innerText = `Saldo: ${formatRp(saldo)} | Auto: ${auto?"ON":"OFF"} | Turbo: ${turbo?"ON":"OFF"}`;
  if(auto){
    autoInterval = setInterval(spin, turbo?200:1000);
  } else {
    clearInterval(autoInterval);
  }
}
function toggleTurbo(){
  turbo=!turbo;
  document.getElementById("status").innerText = `Saldo: ${formatRp(saldo)} | Auto: ${auto?"ON":"OFF"} | Turbo: ${turbo?"ON":"OFF"}`;
  if(auto){
    clearInterval(autoInterval);
    autoInterval=setInterval(spin,turbo?200:1000);
  }
}

// SPACEMAN ----------------
let spacemanActive=false, multiplier=1, spacemanTimer;

function startSpaceman(){
  let bet = getBet();
  if(spacemanActive) return;
  if(saldo < bet){
    alert("Saldo tidak cukup untuk Spaceman!");
    return;
  }
  saldo -= bet;
  document.getElementById("status").innerText=`Saldo: ${formatRp(saldo)} | Auto: ${auto?"ON":"OFF"} | Turbo: ${turbo?"ON":"OFF"}`;
  
  spacemanActive=true;
  multiplier=1;
  updateSpaceman();
  spacemanTimer=setInterval(()=>{
    multiplier += (Math.random()*0.5);
    updateSpaceman();
    if(Math.random()<0.1){ // crash 10% chance
      crash();
    }
  }, 1000);
}
function updateSpaceman(){
  document.getElementById("spacemanStatus").innerText="Multiplier: x"+multiplier.toFixed(2);
}
function crash(){
  clearInterval(spacemanTimer);
  spacemanActive=false;
  document.getElementById("spacemanStatus").innerText="ğŸ’¥ CRASHED at x"+multiplier.toFixed(2);
}
function cashout(){
  if(spacemanActive){
    clearInterval(spacemanTimer);
    spacemanActive=false;
    let bet = getBet();
    let win=Math.floor(bet*multiplier);
    saldo+=win;
    document.getElementById("spacemanStatus").innerText="Cashed out "+formatRp(win)+" at x"+multiplier.toFixed(2);
    document.getElementById("status").innerText=`Saldo: ${formatRp(saldo)} | Auto: ${auto?"ON":"OFF"} | Turbo: ${turbo?"ON":"OFF"}`;
    spawnCoins();
  }
}
</script>
</body>
</html>
